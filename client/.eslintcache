[{"C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\index.js":"1","C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\App.js":"2","C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\reportWebVitals.js":"3","C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\reducer.js":"4","C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\socket.js":"5","C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\components\\Chat\\Chat.component.jsx":"6","C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\components\\ChatMessages\\ChatMessages.component.jsx":"7","C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\components\\ChatsList\\ChatsList.component.jsx":"8","C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\components\\ChatListItem\\ChatListItem.component.jsx":"9"},{"size":494,"mtime":1611583143390,"results":"10","hashOfConfig":"11"},{"size":2532,"mtime":1611570551743,"results":"12","hashOfConfig":"11"},{"size":375,"mtime":1611583121921,"results":"13","hashOfConfig":"11"},{"size":960,"mtime":1611570551747,"results":"14","hashOfConfig":"11"},{"size":109,"mtime":1611570551748,"results":"15","hashOfConfig":"11"},{"size":2819,"mtime":1611583173789,"results":"16","hashOfConfig":"11"},{"size":3013,"mtime":1611582614353,"results":"17","hashOfConfig":"11"},{"size":526,"mtime":1611570551746,"results":"18","hashOfConfig":"11"},{"size":912,"mtime":1611573186747,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"fngg4c",{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"25"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"25"},"C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\index.js",[],"C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\App.js",["42"],"import React, { useState } from \"react\";\r\nimport { useReducer, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport ChatComonent from \"./components/Chat/Chat.component\";\r\nimport reducer from \"./reducer\";\r\nimport socket from \"./socket\";\r\n\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n  let user = {};\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    joined: false,\r\n    chatID: null,\r\n    userName: null,\r\n    users: {},\r\n    messages: [],\r\n    chatIds: [],\r\n  });\r\n\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n  const setUsers = (users) => {\r\n    dispatch({\r\n      type: \"SET_USERS\",\r\n      payload: users,\r\n    });\r\n  };\r\n  const onEnter = async () => {\r\n    user = JSON.parse(localStorage.getItem(\"chatik-user\"));\r\n    if (!user) {\r\n      socket.emit(\"GENERATE_NEW_USER\");\r\n    } else {\r\n      socket.emit(\"CONNECT_USER_TO_ALL_CHATS\", { user });\r\n    }\r\n    const res = await axios.get(\"http://localhost:8080/chats\");\r\n\r\n    user && delete res.data.users[user.id];\r\n\r\n    setUsers(res.data.users);\r\n  };\r\n\r\n  const onNewUserJoined = ({ newUser }) => {\r\n    const newChatId = `${user.id}_${newUser.id}`;\r\n    socket.emit(\"JOIN_CHAT\", { newChatId });\r\n  };\r\n\r\n  const onUserGenerated = ({ user: generatedUser }) => {\r\n    user = generatedUser;\r\n    localStorage.setItem(\"chatik-user\", JSON.stringify(generatedUser));\r\n  };\r\n\r\n  const onUserListChanged = ({ chat }) => {\r\n    delete chat[user.id];\r\n    setUsers({ ...state.users, ...chat });\r\n  };\r\n  const onChatIdsAdded = ({ global_chatIds }) => {\r\n    dispatch({\r\n      type: \"SET_CHAT_IDS\",\r\n      payload: global_chatIds,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    onEnter();\r\n    socket.on(\"NEW_USER_JOINED\", onNewUserJoined);\r\n    socket.on(\"USER_GENERATED\", onUserGenerated);\r\n    socket.on(\"USERS_LIST_CHANGED\", onUserListChanged);\r\n    socket.on(\"CHAT_IDS_ADDED\", onChatIdsAdded);\r\n  }, []);\r\n\r\n  const getFilteredUsers = (stateUsers, searchValue) => {\r\n    const users = JSON.parse(JSON.stringify(stateUsers));\r\n    Object.keys(users).forEach((userKey) => {\r\n      if (\r\n        !users[userKey].userName\r\n          .toLowerCase()\r\n          .includes(searchValue.toLowerCase())\r\n      ) {\r\n        delete users[userKey];\r\n      }\r\n    });\r\n    return users;\r\n  };\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <ChatComonent\r\n        {...state}\r\n        users={getFilteredUsers(state.users, searchValue)}\r\n        searchValue={searchValue}\r\n        setSearchValue={setSearchValue}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n",["43","44"],"C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\reportWebVitals.js",[],"C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\reducer.js",["45"],"export default (state, action) => {\r\n    switch (action.type) {\r\n        case 'JOINED':\r\n            return {\r\n                ...state,\r\n                joined: true,\r\n                chatID: action.payload.chatID,\r\n                userName: action.payload.userName,\r\n            };\r\n\r\n        case 'SET_USERS':\r\n            return {\r\n                ...state,\r\n                users: action.payload,\r\n            };\r\n\r\n        case 'NEW_MESSAGE':\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, action.payload],\r\n            };\r\n\r\n        case 'SET_DATA':\r\n            return {\r\n                ...state,\r\n                users: action.payload.users,\r\n                messages: action.payload.messages,\r\n            };\r\n        case 'SET_CHAT_IDS':\r\n            return {\r\n                ...state,\r\n                chatIds: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\socket.js",[],"C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\components\\Chat\\Chat.component.jsx",["46"],"C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\components\\ChatMessages\\ChatMessages.component.jsx",["47","48"],"C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\components\\ChatsList\\ChatsList.component.jsx",[],"C:\\Users\\12nmr\\OneDrive\\Робочий стіл\\New folder\\chatik\\client\\src\\components\\ChatListItem\\ChatListItem.component.jsx",["49","50"],"import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport \"./ChatListItem.style.css\";\r\n\r\nconst ChatListItemComponent = ({ user }) => {\r\n  const [avatar, setAvatar] = useState(\"\");\r\n\r\n  useEffect(async () => {\r\n    const avatar = await axios.get(\r\n      `http://localhost:8080/${user.userAvatarName}.png`\r\n    );\r\n    await setAvatar(avatar);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"user-item\">\r\n      <div>\r\n        {avatar.config && (\r\n          <img src={avatar.config.url} width=\"50\" height=\"50\" alt=\"''\" />\r\n        )}\r\n        {user.online && (\r\n          <svg height=\"30\" width=\"30\">\r\n            <circle cx=\"5\" cy=\"20\" r=\"5\" fill=\"green\"></circle>\r\n          </svg>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <div>\r\n          <b>{user.userName}</b>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatListItemComponent;\r\n",{"ruleId":"51","severity":1,"message":"52","line":71,"column":6,"nodeType":"53","endLine":71,"endColumn":8,"suggestions":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":1,"column":1,"nodeType":"61","endLine":37,"endColumn":2},{"ruleId":"51","severity":1,"message":"62","line":42,"column":6,"nodeType":"53","endLine":42,"endColumn":16,"suggestions":"63"},{"ruleId":"51","severity":1,"message":"64","line":32,"column":13,"nodeType":"65","endLine":37,"endColumn":4},{"ruleId":"51","severity":1,"message":"66","line":37,"column":6,"nodeType":"53","endLine":37,"endColumn":8,"suggestions":"67"},{"ruleId":"51","severity":1,"message":"64","line":9,"column":13,"nodeType":"65","endLine":14,"endColumn":4},{"ruleId":"51","severity":1,"message":"66","line":14,"column":6,"nodeType":"53","endLine":14,"endColumn":8,"suggestions":"68"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'onEnter', 'onNewUserJoined', 'onUserGenerated', and 'onUserListChanged'. Either include them or remove the dependency array.","ArrayExpression",["69"],"no-native-reassign",["70"],"no-negated-in-lhs",["71"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","React Hook useEffect has a missing dependency: 'onReceivedMessage'. Either include it or remove the dependency array.",["72"],"Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","React Hook useEffect has a missing dependency: 'user.userAvatarName'. Either include it or remove the dependency array.",["73"],["74"],{"desc":"75","fix":"76"},"no-global-assign","no-unsafe-negation",{"desc":"77","fix":"78"},{"desc":"79","fix":"80"},{"desc":"79","fix":"81"},"Update the dependencies array to be: [onEnter, onNewUserJoined, onUserGenerated, onUserListChanged]",{"range":"82","text":"83"},"Update the dependencies array to be: [messages, onReceivedMessage]",{"range":"84","text":"85"},"Update the dependencies array to be: [user.userAvatarName]",{"range":"86","text":"87"},{"range":"88","text":"87"},[1878,1880],"[onEnter, onNewUserJoined, onUserGenerated, onUserListChanged]",[1419,1429],"[messages, onReceivedMessage]",[1049,1051],"[user.userAvatarName]",[399,401]]